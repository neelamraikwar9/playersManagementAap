<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>HTML + CSS</title>
    <link
      rel="stylesheet"
      href="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
    />
    <script src="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <header class="text-black">
      <nav class="navbar navbar-expand-lg">
        <div class="container">
          <a class="navbar-brand" href="index.html">ICC Player Management</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a href="index.html" class="nav-link">Home</a>
              </li>
              <li class="nav-item">
                <a href="playerList.html" class="nav-link">Players List</a>
              </li>
              <li class="nav-item">
                <a href="addPlayer.html" class="nav-link">Add Players</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <main class="container py-3">
      <h1>Add Players</h1>
      <form id="addPlayerForm">
        <label for="playerName">Player Full Name:</label>
        <br />
        <input type="text" id="playerName" class="form-control" required />
        <br />

        <label for="date">Date of Birth:</label>
        <br />
        <input
          type="date"
          id="date"
          placeholder="dd/mm/yyyy"
          class="form-control"
          required
        />
        <br />

        <label for="nation">Nationality:</label>
        <br />
        <input type="text" id="nation" class="form-control" required />
        <br />

        <label for="birthPlace">Place of Birth:</label>
        <br />
        <input type="text" id="birthPlace" class="form-control" required />
        <br />

        <label for="contactAdd">Contact Address:</label>
        <br />
        <textarea
          id="contactAdd"
          rows="3"
          cols="30"
          class="form-control"
          required
        ></textarea>
        <br />

        <label for="number">Phone Number:</label>
        <br />
        <input type="number" id="number" class="form-control" required />
        <br />

        <label for="email">Email Address:</label>
        <br />
        <input type="email" id="email" class="form-control" required />
        <br />

        <label for="role">Playing Role:</label>
        <br />
        <select id="role" required>
          <option value="Batsman">Batsman</option>
          <option value="Bowler">Bowler</option>
          <option value="All-Rounder">All-Rounder</option>
          <br />
        </select>
        <br />
        <br />

        <label for="batting">Batting Hand:</label>
        <br />
        <select id="batting" required>
          <option value="Right Handed">Right Handed</option>
          <option value="Left Handed">Left Handed</option>
          <option value="Both">Both</option>
          <br />
        </select>
        <br />
        <br />

        <label for="bowling">Bowling Style:</label>
        <br />
        <select id="bowling" required>
          <option value="Right-Arm Fast">Right-Arm Fast</option>
          <option value="Left-Arm Fast">Left-Arm Fast</option>
          <option value="Right-Arm Medium">Right-Arm Medium</option>
          <option value="Left-Arm Medium">Left-Arm Medium</option>
          <option value="Right-Arm Spin(Off-Spin)">
            Right-Arm Spin(Off-Spin)
          </option>
          <option value="Left-Arm Spin(Off-Spin)">
            Left-Arm Spin(Off-Spin)
          </option>
        </select>
        <br />
        <br />
        <button class="btn btn-primary">Add Players</button>
      </form>
      <br />
      <div
        id="responseMessage"
        style="background-color: rgb(84, 123, 221)104, 104, 227)"
      ></div>
    </main>

    <script>
      const addPlayerForm = document.getElementById("addPlayerForm");
      const playerName = document.getElementById("playerName");
      const date = document.getElementById("date");
      const nation = document.getElementById("nation");
      const birthPlace = document.getElementById("birthPlace");
      const contactAdd = document.getElementById("contactAdd");
      const number = document.getElementById("number");
      const email = document.getElementById("email");
      const role = document.querySelector("#role");
      const batting = document.querySelector("#batting");
      const bowling = document.querySelector("#bowling");
      const responseMessage = document.querySelector("#responseMessage");

      addPlayerForm.addEventListener("submit", function () {
        event.preventDefault();

        const apiUrl =
          "https://players-backend-student-neog-ca.replit.app/players";

        const playerData = {
          fullName: playerName.value,
          dateOfBirth: birthPlace.value,
          nationality: nation.value,
          placeOfBirth: birthPlace.value,
          contactAddress: contactAdd.value,
          phoneNumber: number.value,
          emailAddress: email.value,
          playingRole: role.value,
          battingHand: batting.value,
          bowlingStyle: bowling.value,
        };

        //     fetch(apiUrl, {
        //       mehtod: "POST",
        //       body: JSON.stringify(playerData),
        //       headers: {
        //         "Content-Type": "application/json",
        //       },
        //     })
        //       .then(function (response) {
        //         return response.json();
        //       })
        //       .then(function (data) {
        //         if (data) {
        //           console.log(data);
        //         }
        //       });
        //   });

        fetch(apiUrl, {
          method: "POST",
          body: JSON.stringify(playerData),
          headers: {
            "Content-Type": "application/json",
          },
        })
          .then(function (response) {
            return response.json();
          })
          .then(function (data) {
            if (data) {
              // console.log(data);
              responseMessage.textContent = "Data saved successfully.";
            }
          });
      });
    </script>
  </body>
</html>
